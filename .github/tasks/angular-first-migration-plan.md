# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏: Angular-First –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Yii –≤ iframe

## üìã Overview

–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Drevo —Å Yii1 –Ω–∞ Angular –ø—É—Ç–µ–º —Å–æ–∑–¥–∞–Ω–∏—è Angular-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–∞–∫ –≥–ª–∞–≤–Ω–æ–≥–æ —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã Yii –≤ iframe. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ—ç—Ç–∞–ø–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## üéØ –¶–µ–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **Angular —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º** —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º
2. **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Yii –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ iframe** –≤ Angular-layout
3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Yii** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ nginx –∏ Angular
4. **–û–±—â–∏–π –¥–æ–º–µ–Ω `staging.drevo-info.ru`** –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ cookies
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ SEO** - –≤–æ–ø—Ä–æ—Å –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º, —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
6. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞** - –Ω–∞ –≤—Ç–æ—Ä–æ–º —ç—Ç–∞–ø–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Yii –±—É–¥—É—Ç –∑–∞–º–µ–Ω—è—Ç—å—Å—è –Ω–∞ Angular

## üìù Requirements

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. Angular-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `staging.drevo-info.ru`
2. –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã Angular –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É Yii –≤ iframe
3. –°—Ç–∞—Ç–∏–∫–∞ Yii (css, js, images) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Yii
5. Cookies –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–∂–¥—É Angular –∏ Yii (–æ–±—â–∏–π –¥–æ–º–µ–Ω)
6. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Yii (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ (monorepo —Å Nx)
2. –ù–µ –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π production –Ω–∞ `drevo-info.ru`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ–ø–ª–æ—è (atomic releases, PM2)
4. –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `legacy-drevo-yii`
5. –†–∞–±–æ—Ç–∞ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ `/staging` –∏ `/new` –≤ URL

## üöÄ Implementation Steps

### Phase 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### Deliverable 1.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Angular-First

**–ó–∞–¥–∞—á–∞**: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx –¥–ª—è `staging.drevo-info.ru`, –≥–¥–µ Angular –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `.nginx-conf-for-ai/staging-angular-first.drevo-info.ru.conf`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–Ω–∞—á–∞–ª–∞ –Ω–∞ Angular SSR (–ø–æ—Ä—Ç 4001)
3. –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ Yii –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π (API, —Å—Ç–∞—Ç–∏–∫–∞)
4. –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–∏–∫–∏ Yii (`/css`, `/js`, `/images`, `/pictures`, `/fonts`, `/assets`)
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Yii (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/yii-direct/*`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ nginx**:
```nginx
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–æ—Ç–æ–≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –¥–ª—è SEO
map $http_user_agent $is_bot {
    default 0;
    ~*googlebot 1;
    ~*bingbot 1;
    ~*yandex 1;
    ~*baiduspider 1;
    ~*facebookexternalhit 1;
    ~*twitterbot 1;
}

server {
    listen 443 ssl;
    server_name staging.drevo-info.ru;
    
    root /home/sites/www/staging.drevo-info.ru;
    
    # 1. –°—Ç–∞—Ç–∏–∫–∞ Yii - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø
    location ~* ^/(css|js|images|img|pictures|fonts|assets|external)/ {
        try_files $uri =404;
        expires 1y;
    }
    
    # 2. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (robots, sitemap, etc)
    location ~* \.(ico|txt|xml|html)$ {
        try_files $uri =404;
    }
    
    # 3. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Yii (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ direct links)
    location /yii-direct/ {
        rewrite ^/yii-direct/(.*)$ /$1 break;
        try_files $uri $uri/ /index.php?$args;
        # PHP processing
    }
    
    # 4. Dual Routing: –±–æ—Ç—ã –≤–∏–¥—è—Ç Yii, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - Angular
    location / {
        # –ï—Å–ª–∏ –±–æ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º Yii –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
        if ($is_bot) {
            try_files $uri $uri/ /index.php?$args;
            break;
        }
        
        # –ï—Å–ª–∏ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º Angular
        proxy_pass http://127.0.0.1:4001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    # 5. PHP processing –¥–ª—è Yii (–¥–ª—è –±–æ—Ç–æ–≤ –∏ /yii-direct/)
    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
        fastcgi_index index.php;
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    }
}
```

**Dual Routing –¥–ª—è SEO**:
- –ë–æ—Ç—ã –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º (Google, Yandex, Bing) –ø–æ–ª—É—á–∞—é—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Yii —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å iframe
- –ö–æ–Ω—Ç–µ–Ω—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π, –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –≠—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π Google –ø–æ–¥—Ö–æ–¥ (Dynamic Rendering)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SEO.

---

#### Deliverable 1.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è

**–ó–∞–¥–∞—á–∞**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π Angular-first –Ω–∞ staging.drevo-info.ru.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –û–±–Ω–æ–≤–∏—Ç—å `scripts/ecosystem.config.js`:
   - –ò–∑–º–µ–Ω–∏—Ç—å `BASE_PATH` —Å `/staging` –Ω–∞ `/` –¥–ª—è drevo-staging
   
2. –û–±–Ω–æ–≤–∏—Ç—å `.github/workflows/cd-staging.yml`:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π build –±–µ–∑ base-href: `--base-href=/`
   
3. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–ª—è –æ—Ç–∫–∞—Ç–∞)

4. –ó–∞–º–µ–Ω–∏—Ç—å `.nginx-conf-for-ai/staging.drevo-info.ru.conf` –Ω–∞ –Ω–æ–≤—É—é Angular-first –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ ecosystem.config.js**:
```javascript
{
  name: 'drevo-staging',
  env: {
    NODE_ENV: 'staging',
    PORT: 4001,
    BASE_PATH: '/'  // –ò–∑–º–µ–Ω–∏–ª–∏ —Å /staging –Ω–∞ /
  }
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ package.json**:
```json
{
  "build:staging": "nx build client --configuration=production --base-href=/"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Staging –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Angular-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

---

### Phase 2: Angular —Ä–æ—É—Ç–∏–Ω–≥ –∏ Iframe –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

#### Deliverable 2.1: –°–æ–∑–¥–∞–Ω–∏–µ Iframe –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è Yii —Å—Ç—Ä–∞–Ω–∏—Ü

**–ó–∞–¥–∞—á–∞**: –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è Yii-—Å—Ç—Ä–∞–Ω–∏—Ü –≤ iframe.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `YiiIframeComponent` –≤ `apps/client/src/app/components/yii-iframe/`
2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:
   - –ü—Ä–∏–Ω–∏–º–∞—Ç—å URL Yii-—Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å src –¥–ª—è iframe: `/yii-direct/{path}`
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑–∫–∏/–æ—à–∏–±–æ–∫ iframe
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—ã—Å–æ—Ç—É iframe –ø–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å URL –±—Ä–∞—É–∑–µ—Ä–∞ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º iframe

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**:
```typescript
@Component({
  selector: 'app-yii-iframe',
  template: `
    <div class="yii-iframe-container">
      <iframe 
        [src]="iframeSrc" 
        (load)="onIframeLoad()"
        (error)="onIframeError()"
      ></iframe>
    </div>
  `
})
export class YiiIframeComponent {
  iframeSrc: SafeResourceUrl;
  
  constructor(
    private route: ActivatedRoute,
    private sanitizer: DomSanitizer
  ) {
    // –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∏–∑ —Ä–æ—É—Ç–∞ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º URL –¥–ª—è iframe
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–æ—É—Ç–∏–Ω–≥–µ.

---

#### Deliverable 2.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Angular Router —Å wildcard –º–∞—Ä—à—Ä—É—Ç–æ–º

**–ó–∞–¥–∞—á–∞**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥ —Ç–∞–∫, —á—Ç–æ–±—ã –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å Angular, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤ iframe.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –û–±–Ω–æ–≤–∏—Ç—å `apps/client/src/app/app.routes.ts`:
   - –û—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã (`/`, `/editor`)
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ Angular-–º–∞—Ä—à—Ä—É—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –î–æ–±–∞–≤–∏—Ç—å wildcard –º–∞—Ä—à—Ä—É—Ç `**` –¥–ª—è Yii-—Å—Ç—Ä–∞–Ω–∏—Ü

**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
```typescript
export const appRoutes: Route[] = [
  {
    path: '',
    pathMatch: 'full',
    loadComponent: () => import('./pages/main/main.component')
  },
  {
    path: 'editor',
    loadComponent: () => import('./pages/shared-editor/shared-editor.component')
  },
  // –ù–æ–≤—ã–µ Angular-–º–∞—Ä—à—Ä—É—Ç—ã –¥–æ–±–∞–≤–ª—è—Ç—å –∑–¥–µ—Å—å
  
  // Wildcard –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π -> Yii iframe
  {
    path: '**',
    loadComponent: () => import('./components/yii-iframe/yii-iframe.component')
  }
];
```

2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ SSR –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç wildcard –º–∞—Ä—à—Ä—É—Ç—ã
3. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ hash –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ iframe

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –†–æ—É—Ç–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—É—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ iframe.

---

#### Deliverable 2.3: –°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ–∂–¥—É Angular –∏ Yii

**–ó–∞–¥–∞—á–∞**: –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É Angular –∏ Yii.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –°–æ–∑–¥–∞—Ç—å `YiiNavigationService` –≤ `apps/client/src/app/services/yii-navigation/`
2. –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω:
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ iframe (—á–µ—Ä–µ–∑ postMessage)
   - –û–±–Ω–æ–≤–ª—è—Ç—å URL –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –≤ iframe
   - –û–ø—Ä–µ–¥–µ–ª—è—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—É—Ç—å Angular –∏–ª–∏ Yii –º–∞—Ä—à—Ä—É—Ç–æ–º
   - –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥

**–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –º–∞—Ä—à—Ä—É—Ç–∞**:
```typescript
@Injectable({ providedIn: 'root' })
export class YiiNavigationService {
  private angularRoutes = ['/', '/editor']; // –†–∞—Å—à–∏—Ä—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫
  
  isAngularRoute(path: string): boolean {
    return this.angularRoutes.some(route => 
      path === route || path.startsWith(route + '/')
    );
  }
  
  getYiiUrl(path: string): string {
    return `/yii-direct${path}`;
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –º–µ–∂–¥—É Angular –∏ Yii.

---

### Phase 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç–∏–∫–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

#### Deliverable 3.1: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤

**–ó–∞–¥–∞—á–∞**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Yii API –∏–∑ Angular-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–∫—Å–∏ –¥–ª—è dev-—Å–µ—Ä–≤–µ—Ä–∞ (`proxy.conf.json`)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π API –∫ Yii backend
3. –û–±–Ω–æ–≤–∏—Ç—å `YiiNavigationService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

**–ü—Ä–∏–º–µ—Ä proxy.conf.json**:
```json
{
  "/api": {
    "target": "http://localhost:80",
    "secure": false,
    "changeOrigin": true
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Angular –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Yii API.

---

#### Deliverable 3.2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ CSRF

**–ó–∞–¥–∞—á–∞**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Yii.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Yii (–≤ iframe)
   - Cookie —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ –¥–æ–º–µ–Ω `staging.drevo-info.ru`
   - Angular —á–∏—Ç–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É CSRF —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Yii API (—Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `IframeService`)

3. –°–æ–∑–¥–∞—Ç—å guard –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```typescript
@Injectable({ providedIn: 'root' })
export class YiiAuthGuard implements CanActivate {
  canActivate(): Observable<boolean> {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Yii API
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–µ–∂–¥—É Angular –∏ Yii.

---

### Phase 4: –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π

#### Deliverable 4.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ build –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä–∫—É Angular –±–µ–∑ base-href –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –û–±–Ω–æ–≤–∏—Ç—å `package.json` scripts:
```json
{
  "build:staging": "nx build client --configuration=production --base-href=/",
  "start:staging": "NODE_ENV=staging BASE_PATH=/ node dist/apps/client/server/server.mjs"
}
```

2. –û–±–Ω–æ–≤–∏—Ç—å `apps/client/project.json` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∞—Å—Å–µ—Ç—ã Angular —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –û–±–Ω–æ–≤–∏—Ç—å SSR –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ base-path

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Angular —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º –ø—É—Ç–∏.

---

#### Deliverable 4.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CI/CD pipeline

**–ó–∞–¥–∞—á–∞**: –û–±–Ω–æ–≤–∏—Ç—å GitHub Actions –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ staging.

**–î–µ–π—Å—Ç–≤–∏—è**:

1. –û–±–Ω–æ–≤–∏—Ç—å `.github/workflows/cd-staging.yml`:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π build –±–µ–∑ base-href
   - –î–µ–ø–ª–æ–∏—Ç—å –Ω–∞ staging —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –¥–µ–ø–ª–æ—é –≤ `README-deployment.md`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

### Phase 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### Deliverable 5.1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã.

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**:

1. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**:
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Angular –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/articles/123` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Yii —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ iframe
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/editor` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Angular —Ä–µ–¥–∞–∫—Ç–æ—Ä
   - –ö–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. **–°—Ç–∞—Ç–∏–∫–∞**:
   - CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Yii –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –°—Ç–∏–ª–∏ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç –º–µ–∂–¥—É Angular –∏ Yii

3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**:
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Yii —Ä–∞–±–æ—Ç–∞–µ—Ç
   - Cookies –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
   - –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Yii –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞

4. **API –∑–∞–ø—Ä–æ—Å—ã**:
   - Angular –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Yii API
   - CSRF —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

5. **SSR**:
   - –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ú–µ—Ç–∞—Ç–µ–≥–∏ –¥–ª—è SEO —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

---

#### Deliverable 5.2: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ó–∞–¥–∞—á–∞**: –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

**–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**:

1. **Migration Guide** (`docs/angular-first-migration.md`):
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
   - –ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ Angular –º–∞—Ä—à—Ä—É—Ç—ã
   - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yii
   - Troubleshooting

2. **Development Guide** (–æ–±–Ω–æ–≤–∏—Ç—å `README.md`):
   - –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ
   - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å iframe –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
   - –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

3. **Nginx Configuration Guide** (–æ–±–Ω–æ–≤–∏—Ç—å `README-deployment.md`):
   - –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx
   - –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
   - –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

---

## üì¶ Deliverables Summary

### –†–µ–ª–∏–∑ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1-2 –¥–Ω—è)
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Angular-First —Å Dual Routing –¥–ª—è SEO
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ build —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –†–µ–ª–∏–∑ 2: Angular –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (2-3 –¥–Ω—è)
- ‚úÖ YiiIframeComponent
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥ —Å wildcard
- ‚úÖ YiiNavigationService
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

### –†–µ–ª–∏–∑ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è)
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ Yii —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π CI/CD

### –†–µ–ª–∏–∑ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ (1-2 –¥–Ω—è)
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ staging
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –±–∞–≥—Ñ–∏–∫—Å—ã

**–û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 6-10 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üß™ Testing

### Unit Tests

1. **YiiIframeComponent**:
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –¥–ª—è iframe
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **YiiNavigationService**:
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (Angular vs Yii)
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –¥–ª—è Yii
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### Integration Tests

1. **–†–æ—É—Ç–∏–Ω–≥ E2E** (`apps/client-e2e`):
   - –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ Angular –º–∞—Ä—à—Ä—É—Ç–∞–º
   - –¢–µ—Å—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Yii –º–∞—Ä—à—Ä—É—Ç—ã
   - –¢–µ—Å—Ç wildcard –º–∞—Ä—à—Ä—É—Ç–∞
   - –¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞

2. **Iframe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è E2E**:
   - –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Yii —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ iframe
   - –¢–µ—Å—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≤ iframe
   - –¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ URL

### Manual Testing

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ç–æ–∫–∞ –ª–æ–≥–∏–Ω–∞
2. **–°—Ç–∞—Ç–∏–∫–∞**: –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
3. **Cross-browser**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
4. **Mobile**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

1. **SEO –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è**:
   - **–†–µ—à–µ–Ω–∏–µ**: Dual Routing - –±–æ—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Yii —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
   - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: Nginx –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç User-Agent –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Yii –±–æ—Ç–∞–º, Angular –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
   - **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ Google Search Console –∏ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä
   - **–õ–µ–≥–∞–ª—å–Ω–æ—Å—Ç—å**: –†–∞–∑—Ä–µ—à–µ–Ω–æ Google –∫–∞–∫ Dynamic Rendering (–∫–æ–Ω—Ç–µ–Ω—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö)

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å iframe**:
   - **–†–∏—Å–∫**: –î–≤–æ–π–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Angular + Yii –≤ iframe)
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç—å –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∑–∞–≥—Ä—É–∑–∫–∏

3. **–ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞**:
   - **–†–∏—Å–∫**: –°–ª–æ–∂–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –º–µ–∂–¥—É Angular –∏ iframe
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ postMessage API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö

4. **Cross-origin –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
   - **–†–∏—Å–∫**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å iframe
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ –¥–ª—è Angular –∏ Yii
   - **–†–µ—à–µ–Ω–æ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `staging.drevo-info.ru` –¥–ª—è –æ–±–æ–∏—Ö

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**:
   - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –ù–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–ø–µ –≤—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Yii
   - **–ü–ª–∞–Ω**: –ù–∞ –≤—Ç–æ—Ä–æ–º —ç—Ç–∞–ø–µ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Angular-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

2. **–†–µ–¥–∞–∫—Ç–æ—Ä**:
   - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –í—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º Angular-—Ä–µ–¥–∞–∫—Ç–æ—Ä (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å nested iframe)
   - **–ü–ª–∞–Ω**: –í–µ—Ä–Ω—É—Ç—å –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Angular

3. **–§–æ—Ä–º—ã**:
   - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º –æ—Å—Ç–∞–µ—Ç—Å—è –≤ Yii
   - **–ü–ª–∞–Ω**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º –≤ Angular

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:
   - **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ**: –ù–µ –ª–æ–º–∞—Ç—å production
   - **–†–µ—à–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º –≤ production

2. **–û—Ç–∫–∞—Ç staging**:
   - **–†–∏—Å–∫**: –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è
   - **–ü–ª–∞–Ω**: –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è nginx –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ atomic releases –¥–ª—è –æ—Ç–∫–∞—Ç–∞

3. **–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏**:
   - **–†–∏—Å–∫**: –î–æ–ª–≥–∏–π –ø–µ—Ä–∏–æ–¥ —Å –¥–≤—É–º—è —Å–∏—Å—Ç–µ–º–∞–º–∏
   - **–ü–ª–∞–Ω**: –ß–µ—Ç–∫–∏–π roadmap –ø–æ—ç—Ç–∞–ø–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üîÑ –ü–ª–∞–Ω –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–ø–∞ (Post-MVP)

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Angular-First:

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
   - –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å iframe –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã–µ Angular –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ)

2. **API —Å–ª–æ–π**:
   - –°–æ–∑–¥–∞—Ç—å —á–µ—Ç–∫–∏–π API –º–µ–∂–¥—É Angular –∏ Yii
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Yii –≤ —á–∏—Å—Ç—ã–π REST API backend
   - –£–¥–∞–ª–µ–Ω–∏–µ view –ª–æ–≥–∏–∫–∏ –∏–∑ Yii

3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**:
   - –ú–∏–≥—Ä–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ Angular
   - JWT —Ç–æ–∫–µ–Ω—ã –≤–º–µ—Å—Ç–æ —Å–µ—Å—Å–∏–π
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Angular guards

4. **–†–µ–¥–∞–∫—Ç–æ—Ä**:
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Angular-—Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –£–±—Ä–∞—Ç—å nested iframe –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

5. **SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ Search Console
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å sitemap.xml —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–∞—Ç–µ–≥–∏ –∏ structured data
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å canonical URLs

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏**:
   - ‚úÖ –í—Å–µ Yii —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Angular —Ä–æ—É—Ç–∏–Ω–≥
   - ‚úÖ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü < 3 —Å–µ–∫
   - ‚úÖ 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤ –≤ production
   - ‚úÖ –í—Å–µ E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

2. **–ë–∏–∑–Ω–µ—Å –º–µ—Ç—Ä–∏–∫–∏**:
   - ‚úÖ Staging —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ 2 –Ω–µ–¥–µ–ª–∏
   - ‚úÖ –ù–µ—Ç –∂–∞–ª–æ–± –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
   - ‚úÖ SEO –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ —É—Ö—É–¥—à–∏–ª–∏—Å—å (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 1 –º–µ—Å—è—Ü)

3. **–ö–æ–º–∞–Ω–¥–∞**:
   - ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
   - ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ Angular –º–∞—Ä—à—Ä—É—Ç—ã
   - ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω

---

## üîç Review –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø–ª–∞–Ω–∞

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è**: –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É  
‚úÖ **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫**: Production –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –í—Å–µ Yii —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  
‚úÖ **–û–±—â–∏–π –¥–æ–º–µ–Ω**: Cookies –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø—Ä–æ–±–ª–µ–º  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–æ–¥—Ö–æ–¥–∞

‚ö†Ô∏è **SEO —Ä–∏—Å–∫–∏**: –ö–æ–Ω—Ç–µ–Ω—Ç –≤ iframe –º–æ–∂–µ—Ç –ø–ª–æ—Ö–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è  
‚ö†Ô∏è **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –î–≤–æ–π–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Angular + Yii)  
‚ö†Ô∏è **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ  
‚ö†Ô∏è **UX**: –í–æ–∑–º–æ–∂–Ω—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å iframe (—Å–∫—Ä–æ–ª–ª, –∏—Å—Ç–æ—Ä–∏—è)  
‚ö†Ô∏è **–î–æ–ª–≥–∏–π –ø–µ—Ä–µ—Ö–æ–¥**: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –º–µ—Å—è—Ü—ã

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–î–ª—è SEO**:
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Search Console –∏ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π sitemap.xml
   - –î–æ–±–∞–≤–∏—Ç—å structured data (JSON-LD) –¥–ª—è –ª—É—á—à–µ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

2. **–î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   - Lazy loading –¥–ª—è iframe (–∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ)
   - Service Worker –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è Yii —Å—Ç–∞—Ç–∏–∫–∏
   - –ê–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size Angular

3. **–î–ª—è UX**:
   - –ü—Ä–µ–ª–æ–∞–¥–µ—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ iframe
   - –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É Angular –∏ Yii —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ iframe

4. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**:
   - –°–æ–∑–¥–∞—Ç—å CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
